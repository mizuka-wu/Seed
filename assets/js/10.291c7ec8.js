(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{649:function(t,a,s){"use strict";s.r(a);var v=s(1),n=Object(v.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"dsl-语法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#dsl-语法"}},[t._v("#")]),t._v(" DSL 语法")]),t._v(" "),s("h2",{attrs:{id:"基本语法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#基本语法"}},[t._v("#")]),t._v(" 基本语法")]),t._v(" "),s("p",[s("strong",[t._v("DSL")]),t._v(" 主要还是通过"),s("code",[t._v("javascript")]),t._v("对象的形式表现，同时为了保证顺序性，通过数组的方式来保存顺序，每个 "),s("code",[t._v("seed")]),t._v(" 对象都决定了在"),s("code",[t._v("form")]),t._v("和"),s("code",[t._v("table")]),t._v("中每一个字段的渲染方式，简单来说，每个"),s("code",[t._v("seed")]),t._v("对象都具有以下几个属性")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("key")]),t._v(" 获取传入对象的哪个"),s("code",[t._v("key")]),t._v("作为数据，支持"),s("code",[t._v("a.b.c")]),t._v("这类的链式调用")]),t._v(" "),s("li",[s("strong",[t._v("label")]),t._v(" 显示的名字，"),s("code",[t._v("table")]),t._v("中作为表头，"),s("code",[t._v("form")]),t._v("中作为"),s("strong",[t._v("label")])]),t._v(" "),s("li",[s("strong",[t._v("render")]),t._v(" 渲染方案，支持传入函数")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("键")]),t._v(" "),s("th",[t._v("类型")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("key")]),t._v(" "),s("td",[t._v("string")]),t._v(" "),s("td",[t._v("对象的哪个"),s("code",[t._v("key")]),t._v("作为数据，支持链式调用")])]),t._v(" "),s("tr",[s("td",[t._v("label")]),t._v(" "),s("td",[t._v("string")]),t._v(" "),s("td",[s("code",[t._v("table")]),t._v("中表头，"),s("code",[t._v("form")]),t._v("中"),s("strong",[t._v("label")])])]),t._v(" "),s("tr",[s("td",[t._v("render")]),t._v(" "),s("td",[t._v("null/string/(val, props) => JSX")]),t._v(" "),s("td",[t._v("渲染方案，支持传入函数")])]),t._v(" "),s("tr",[s("td",[t._v("show")]),t._v(" "),s("td",[t._v("null/boolean")]),t._v(" "),s("td",[t._v("是否渲染，默认为 true")])]),t._v(" "),s("tr",[s("td",[t._v("options")]),t._v(" "),s("td",[t._v("null/object")]),t._v(" "),s("td",[t._v("剩余的参数都在这")])])])]),t._v(" "),s("h2",{attrs:{id:"支持的渲染方案一览"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#支持的渲染方案一览"}},[t._v("#")]),t._v(" 支持的渲染方案一览")]),t._v(" "),s("p",[t._v("如果找不到渲染方案，在"),s("code",[t._v("table")]),t._v("中会降级为字符串显示，在"),s("code",[t._v("form")]),t._v("中会降级为使用"),s("code",[t._v("input")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("render")]),t._v(" "),s("th",[t._v("table可用？")]),t._v(" "),s("th",[t._v("form可用？")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("string")]),t._v(" "),s("td",[t._v("☑️")]),t._v(" "),s("td",[t._v("☑️")]),t._v(" "),s("td",[t._v("默认的显示方案，直接纯字符串")])]),t._v(" "),s("tr",[s("td",[t._v("time")]),t._v(" "),s("td",[t._v("☑️")]),t._v(" "),s("td",[t._v("☑️")]),t._v(" "),s("td",[t._v("显示时间，默认为yyyy-MM-DD hh:mm:ss")])]),t._v(" "),s("tr",[s("td",[t._v("enum")]),t._v(" "),s("td",[t._v("☑️")]),t._v(" "),s("td",[t._v("☑️")]),t._v(" "),s("td",[t._v("读取options内的enum自动匹配显示，支持{[key: any]: string}, {value: any, label:any}[], string[]等方案")])]),t._v(" "),s("tr",[s("td",[t._v("image")]),t._v(" "),s("td",[t._v("☑️")]),t._v(" "),s("td"),t._v(" "),s("td",[t._v("支持字符串或{url, thumbnail?, size?}")])]),t._v(" "),s("tr",[s("td",[t._v("video")]),t._v(" "),s("td",[t._v("☑️")]),t._v(" "),s("td"),t._v(" "),s("td",[t._v("支持字符串或{url, thumbnail?, size?}")])]),t._v(" "),s("tr",[s("td",[t._v("media")]),t._v(" "),s("td",[t._v("☑️")]),t._v(" "),s("td"),t._v(" "),s("td",[t._v("自动判断视频还是图片，慎用，支持字符串或{url, thumbnail?, size?}")])]),t._v(" "),s("tr",[s("td",[t._v("textarea")]),t._v(" "),s("td",[t._v("☑️")]),t._v(" "),s("td"),t._v(" "),s("td",[t._v("大文本，表格内默认为3行，可通过设定line来配置数量，form中为富文本")])])])]),t._v(" "),s("h2",{attrs:{id:"不同的组件渲染方案不一样的情况"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#不同的组件渲染方案不一样的情况"}},[t._v("#")]),t._v(" 不同的组件渲染方案不一样的情况")]),t._v(" "),s("p",[t._v("通过在"),s("code",[t._v("options")]),t._v("中定义"),s("code",[t._v("form")]),t._v(", "),s("code",[t._v("filter")]),t._v(", "),s("code",[t._v("table")]),t._v("这三个属性，该属性下面的对象将会被合并到相应的"),s("code",[t._v("seed")]),t._v("对象上，这样就能完成合并啦")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    key"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'a'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    title"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'b'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    render"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'string'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    options"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        form"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            render"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'number'")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("将在"),s("code",[t._v("form")]),t._v("内被处理成")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    key"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'a'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    title"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'b'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    render"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'number'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    options"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h2",{attrs:{id:"特殊情况"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#特殊情况"}},[t._v("#")]),t._v(" 特殊情况")]),t._v(" "),s("p",[t._v("考虑到"),s("code",[t._v("form")]),t._v("表单也可能在"),s("code",[t._v("update")]),t._v("和"),s("code",[t._v("add")]),t._v("的时候不同，"),s("code",[t._v("form")]),t._v("下的"),s("code",[t._v("options")]),t._v("内还支持"),s("code",[t._v("add")]),t._v("和"),s("code",[t._v("update")]),t._v("这两种合并方式，具体来说，"),s("code",[t._v("seed")]),t._v(" 的多级合并可能复杂到")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    key"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'a'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    title"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'b'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    render"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'number'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    options"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        form"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            options"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                add"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                update"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        filter"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        table"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h2",{attrs:{id:"最重要的几点"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#最重要的几点"}},[t._v("#")]),t._v(" 最重要的几点")]),t._v(" "),s("ul",[s("li",[t._v("和"),s("a",{attrs:{href:"https://cn.vuejs.org/v2/guide/index.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("vue"),s("OutboundLink")],1),t._v("等前端框架一样，"),s("code",[t._v("key")]),t._v("这个属性绝对不能重复")]),t._v(" "),s("li",[s("code",[t._v("render")]),t._v("的影响是全局的，如果定义的话，请分别给"),s("code",[t._v("form")]),t._v(", "),s("code",[t._v("table")]),t._v("等地方分开定义，"),s("strong",[t._v("起码"),s("code",[t._v("table")]),t._v("需要分开定义！")]),t._v("，否则"),s("code",[t._v("form")]),t._v("中出现纯文本？")])])])}),[],!1,null,null,null);a.default=n.exports}}]);